$(document).ready(function(){function e(){$("input[type=tel]").mask("+7 (999) 999-99-99")}var t,a=$("body");a.width();$(window).on("scroll",function(){clearTimeout(t),a.hasClass("disable-hover")||a.addClass("disable-hover"),t=setTimeout(function(){a.removeClass("disable-hover")},200)}),$(window).on("scroll",function(){$(this).scrollTop()>150?$(".js-go-to-top-btn").fadeIn():$(".js-go-to-top-btn").fadeOut()}),$(".js-go-to-top-btn").on("click",function(e){e.preventDefault(),$("body, html").animate({scrollTop:0},1e3)}),$(".js-smooth-scroll-link").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),a=$(t).offset().top;$("html, body").animate({scrollTop:a},"slow")}),$(".js-open-callback-popup-btn").on("click",function(e){e.preventDefault();var t=$(this).attr("data-btn-text"),a=$(this).attr("data-form-theme");$(".js-callback-popup").find(".btn").html(t),$(".js-callback-popup").find("input[name=form_subject]").val(a),$(".js-callback-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(e){e.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(e){e.stopPropagation();var t=$(this).find(".popup__body");t.is(e.target)||0!==t.has(e.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))});new Swiper(".js-feedbacks-slider",{loop:!0,slidesPerView:3,centeredSlides:!0,slidesPerView:"auto",spaceBetween:120,autoplay:{delay:6e3,disableOnInteraction:!1},pagination:{el:".js-feedbacks-slider-pagination",clickable:!0},navigation:{nextEl:".js-feedbacks-slider-btn-next",prevEl:".js-feedbacks-slider-btn-prev"}});$(".js-toggle-faq-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".faq").find(".faq__answer").stop().slideToggle(150)});var s=$(".js-quiz-step"),o=$(".js-quiz-controls");if(s.not(":nth-child(1)").hide(),s.first().addClass("is-active"),o.each(function(){var t=$(this);t.on("click",function(a){a.preventDefault(),a.stopPropagation();var s=$(a.target),o=s.attr("data-quiz-direction");if("BUTTON"===s.prop("tagName")){var i=t.parents(".js-quiz-step"),n=i.next(".js-quiz-step"),l=i.prev(".js-quiz-step");"next"===o?(i.removeClass("is-active").hide(),n.addClass("is-active").fadeIn(),e()):"prev"===o&&(i.removeClass("is-active").hide(),l.addClass("is-active").fadeIn(),e())}})}),$(".js-input").on("focus",function(){$(this).hasClass("is-error")&&$(this).removeClass("is-error")}),$(".form").submit(function(e){e.preventDefault();var t=$(this);if(inputs=t.find(".js-input"),flag=!0,$(inputs).each(function(){$(this).val()&&""!=$(this).val()||($(this).addClass("is-error"),flag=!1)}),!flag)return!1;$.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){$(".js-popup").fadeOut(150),$(".js-quiz-popup").fadeOut(150),$(".js-thanks-popup").fadeIn(150),setTimeout(function(){$(".js-thanks-popup").fadeOut(150),$("html").removeClass("is-fixed"),t.trigger("reset")},2e3)})}),(p=$("#map")).length>0){var i=$(".coords").attr("data-latitude"),n=$(".coords").attr("data-longitude"),l=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}],r={center:new google.maps.LatLng(i,n),zoom:16,panControl:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:l},p=new google.maps.Map(document.getElementById("map"),r);new google.maps.Marker({position:new google.maps.LatLng(i,n),map:p,visible:!0,icon:"img/icons/svg/map.svg"})}e()});