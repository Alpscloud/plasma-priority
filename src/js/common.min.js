$(document).ready(function(){function e(){$("input[type=tel]").mask("+7 (999) 999-99-99")}var s,t=$("body");t.width();$(window).on("scroll",function(){clearTimeout(s),t.hasClass("disable-hover")||t.addClass("disable-hover"),s=setTimeout(function(){t.removeClass("disable-hover")},200)}),$(window).on("scroll",function(){$(this).scrollTop()>150?$(".js-go-to-top-btn").fadeIn():$(".js-go-to-top-btn").fadeOut()}),$(".js-go-to-top-btn").on("click",function(e){e.preventDefault(),$("body, html").animate({scrollTop:0},1e3)}),$(".js-smooth-scroll-link").on("click",function(e){e.preventDefault();var s=$(this).attr("href"),t=$(s).offset().top;$(".js-nav").hasClass("is-opened")&&($(".js-open-mobile-menu-btn").removeClass("is-active"),$("html").removeClass("is-fixed"),$(".js-nav").removeClass("is-opened")),$("html, body").animate({scrollTop:t},"slow")}),$(".js-open-mobile-menu-btn").on("click",function(e){e.preventDefault(),$(this).addClass("is-active"),$("html").addClass("is-fixed"),$(".js-nav").addClass("is-opened")}),$(".js-close-mobile-menu-btn").on("click",function(e){e.preventDefault(),$(".js-open-mobile-menu-btn").removeClass("is-active"),$("html").removeClass("is-fixed"),$(".js-nav").removeClass("is-opened")}),$(".js-open-callback-popup-btn").on("click",function(e){e.preventDefault();var s=$(this).attr("data-btn-text"),t=$(this).attr("data-form-theme");$(".js-callback-popup").find(".btn").html(s),$(".js-callback-popup").find("input[name=form_subject]").val(t),$(".js-callback-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-open-quiz-popup-btn").on("click",function(e){e.preventDefault(),$(".js-quiz-popup").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(e){e.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(e){e.stopPropagation();var s=$(this).find(".popup__body");s.is(e.target)||0!==s.has(e.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))});new Swiper(".js-promo-slider",{loop:!0,slidesPerView:1,spaceBetween:0,pagination:{el:".js-promo-slider-pagination",clickable:!0},navigation:{nextEl:".js-promo-slider-btn-next",prevEl:".js-promo-slider-btn-prev"}}),new Swiper(".js-feedbacks-slider",{loop:!0,slidesPerView:1,centeredSlides:!1,spaceBetween:20,autoplay:{delay:6e3,disableOnInteraction:!1},pagination:{el:".js-feedbacks-slider-pagination",clickable:!0},navigation:{nextEl:".js-feedbacks-slider-btn-next",prevEl:".js-feedbacks-slider-btn-prev"},breakpoints:{1150:{slidesPerView:3,centeredSlides:!0,slidesPerView:"auto",spaceBetween:120}}}),new Swiper(".js-sertificates-slider",{loop:!0,slidesPerView:1,centeredSlides:!1,spaceBetween:0,pagination:{el:".js-sertificates-slider-pagination",clickable:!0},navigation:{nextEl:".js-sertificates-slider-btn-next",prevEl:".js-sertificates-slider-btn-prev"},breakpoints:{1400:{slidesPerView:5},1e3:{slidesPerView:4},700:{slidesPerView:3},480:{slidesPerView:2}}});$("[data-fancybox]").fancybox(),$(".js-tab-content").not(":first").hide(),$(".js-tab-btn:first").addClass("is-active"),$(".js-tab-btn").on("click",function(e){e.preventDefault(),$(".js-tab-content").removeClass("is-active"),$(".js-tab-btn").removeClass("is-active").eq($(this).index()).addClass("is-active"),$(".js-tab-content").hide().eq($(this).index()).fadeIn().addClass("is-active")}).eq(0).addClass("is-active"),$(".js-toggle-accordion-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".accordion-item").toggleClass("is-active"),$(this).parents(".accordion-item").find(".accordion-body").stop().slideToggle(150)}),$(".js-toggle-faq-btn").on("click",function(e){e.preventDefault(),$(this).toggleClass("is-active"),$(this).parents(".faq").find(".faq__answer").stop().slideToggle(150)});var a=$(".js-quiz-step"),i=$(".js-quiz-controls");if(a.not(":nth-child(1)").hide(),a.first().addClass("is-active"),i.each(function(){var s=$(this);s.on("click",function(t){t.preventDefault(),t.stopPropagation();var a=$(t.target),i=a.attr("data-quiz-direction");if("BUTTON"===a.prop("tagName")){var n=s.parents(".js-quiz-step"),o=n.next(".js-quiz-step"),l=n.prev(".js-quiz-step");"next"===i?(n.removeClass("is-active").hide(),o.addClass("is-active").fadeIn(),e()):"prev"===i&&(n.removeClass("is-active").hide(),l.addClass("is-active").fadeIn(),e())}})}),$(".js-input").on("focus",function(){$(this).hasClass("is-error")&&$(this).removeClass("is-error")}),$(".form").submit(function(e){e.preventDefault();var s=$(this);if(inputs=s.find(".js-input"),flag=!0,$(inputs).each(function(){$(this).val()&&""!=$(this).val()||($(this).addClass("is-error"),flag=!1)}),!flag)return!1;$.ajax({type:"POST",url:"mail.php",data:s.serialize()}).done(function(){$(".js-popup").fadeOut(150),$(".js-quiz-popup").fadeOut(150),$(".js-thanks-popup").fadeIn(150),setTimeout(function(){$(".js-thanks-popup").fadeOut(150),$("html").removeClass("is-fixed"),s.trigger("reset")},2e3)})}),(p=$("#map")).length>0){var n=$(".coords").attr("data-latitude"),o=$(".coords").attr("data-longitude"),l=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}],r={center:new google.maps.LatLng(n,o),zoom:16,panControl:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:l},p=new google.maps.Map(document.getElementById("map"),r);new google.maps.Marker({position:new google.maps.LatLng(n,o),map:p,visible:!0,icon:"img/icons/svg/map.svg"})}e()});